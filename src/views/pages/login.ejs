<!DOCTYPE html>
<html lang="es-ES">
<%- include('../partials/head.ejs', {ruta:'/css/loginAndRegister.css'}) %>

  <body>
    <%- include("../partials/header", {searchBar: false}) %>
    <main>
        <div class="firstSection">
        </div>
        <section class="Form">
          <div class="container">
            <div class="titulo">
              <h1>¡Hola!</h1>
            </div>



            <form action="/login" method="POST" class="inputs">
              <div class="inputsButton">
                <label>
                  <input class="input-form" id="email" type="email" name="email"  placeholder="Tu nombre de usuario" />
                </label>
                <label>
                  <input class="input-form" id="password" type="password" autocomplete="off" name="password"
                    placeholder="Tu contraseña" />
                </label>
                <button disabled class="button-form boton" type="submit" name="">Iniciar Sesión</button>
              </div>
            </form>
          </div>
          <article class="cuenta">
            <p>¿No tienes cuenta?
              <a href="/register">
                Registrate
              </a>
            </p>
          </article>
        </section>
        <div class="secondSection">
        </div>

        <% if (locals.errors) { %>
         <%- include('../partials/modal.ejs',{
           title: 'Inicio de sesion incorrecto',
           body: 'Usuario o contraseña incorrecta',
           hasSecondaryButton: false,
           primaryAction: 'close',
           isOpen: true
         }) %> 
        <% } %>
      </main>
      <%- include("../partials/footer") %>
      <script src="js/modeLR.js"></script>

  </body>

<script>
  window.addEventListener("load",function() {
    const passwordElement = document.querySelector('#password');
    let formulario = document.querySelector('form.inputs')
    const button = document.querySelector('.boton')
    let email = document.querySelector('#email');

    function isEmpty() {
      let flag = false;
      if (email.value === '') {
        flag = true;
      }
      if (passwordElement.value === '') {
        flag = true;
      }


      if (flag === true) {
        button.disabled = true;
        button.style.backgroundColor = 'grey'
      } else {
        button.disabled = false;
        button.style.backgroundColor = 'rgba(12, 176, 147, 1)'
      }
    }

    formulario.addEventListener("keyup", isEmpty)

  })


</script>

</html>