<!DOCTYPE html>
<html lang="es-ES">
<%- include('../partials/head.ejs', {ruta:'/css/loginAndRegister.css'}) %>

  <body>
    <%- include("../partials/header", {searchBar: false}) %>
      <main>
        <div class="firstSection">
        </div>
        <section class="Form">
          <div class="container">
            <div class="titulo">
              <h1>¡Hola!</h1>
            </div>



            <form action="/login" method="POST" class="inputs">
              <div class="inputsButton">

                <% if(locals.errors && errors.email) { %>
                  <p class="error-msg">
                    <%=errors.email.msg %>
                  </p>
                <% } %>
                <label>
                  <input class="input-form" id="email" type="email" name="email"  placeholder="Tu nombre de usuario" />
                </label>
                <% if(locals.errors && errors.password) { %>
                  <p class="error-msg">
                    <%= errors.password.msg %>
                  </p>
                <% } %>
                <label>
                  <input class="input-form" id="password" type="password" autocomplete="off" name="password"
                    placeholder="Tu contraseña" />
                </label>
                <button disabled class="button-form boton" type="submit" name="">Iniciar Sesión</button>
              </div>
            </form>
          </div>
          <article>
            <p>¿No tienes cuenta?
              <a href="/register">
                Registrate
              </a>
            </p>
          </article>
        </section>
        <div class="secondSectionLogin">
        </div>

      </main>
      <%- include("../partials/footer") %>

  </body>

<script>
  window.addEventListener("load",function() {
    const passwordElement = document.querySelector('#password');
    let formulario = document.querySelector('form.inputs')
    const button = document.querySelector('.boton')
    let email = document.querySelector('#email');

    function isEmpty() {
      let flag = false;
      if (email.value === '') {
        flag = true;
      }
      if (passwordElement.value === '') {
        flag = true;
      }


      if (flag === true) {
        button.disabled = true;
        button.style.backgroundColor = 'grey'
      } else {
        button.disabled = false;
        button.style.backgroundColor = 'rgba(12, 176, 147, 1)'
      }
    }

    formulario.addEventListener("keyup", isEmpty)

  })


</script>

</html>